# 設計・実装ロードマップ

## 1. 全体像の把握
- 目的：コッペとの会話体験を軸に、ゲーム内ゲーム（ノワ攻略）を進めるADV風ゲーム
- 主要キャラ：コッペ（友達/ナビゲーター）、ノワ（攻略対象）

---

## 2. 必要なシステム一覧
1. **UIシステム**
    - 背景、キャラクター立ち絵、セリフウィンドウ、選択肢UI
2. **キャラクター管理システム**
    - 立ち絵差分切り替え、表示/非表示、複数キャラ同時表示
3. **ダイアログ・シナリオ管理システム**
    - テキスト送り、選択肢、分岐、外部データ（JSON/CSV）読込
4. **フラグ・ゲーム状態管理システム**
    - 選択肢通過、重大な秘密発見などの状態管理
5. **入力管理システム**
    - クリック/タップ、選択肢選択

---

## 3. 実装のおすすめ順序

### ステップ1：UIの仮組み
- Unity上で「背景」「ノワ立ち絵」「コッペ立ち絵」「セリフウィンドウ」「選択肢UI」を仮配置
- まずは見た目だけでOK。ボタンやテキストはダミーで

### ステップ2：キャラクター管理
- 立ち絵の差分切り替え（Spriteの動的変更）
- 複数キャラの同時表示

### ステップ3：ダイアログ・シナリオ管理
- JSON/CSVで会話データを用意し、テキスト送り・選択肢表示を実装
- 選択肢を選ぶと次の会話に進む

### ステップ4：フラグ・状態管理
- 選択肢の通過や「重大な秘密」発見などのフラグをGameManagerで管理
- フラグによってコッペのセリフや選択肢内容を変化させる

### ステップ5：演出・アニメーション
- DOTweenで立ち絵やUIのアニメーション追加
- セリフ送り時のエフェクトなど

### ステップ6：データ外部化・多言語対応
- セリフやシナリオを完全に外部ファイル化
- 必要ならLocalization Package導入

---

## 4. 進め方のコツ
- まずは「UI仮組み」→「キャラ差分切り替え」→「ダイアログ進行」の3つを最優先
- 1つずつ動くものを作ってから、細かい演出やフラグ分岐を追加していく
- わからない部分は「仮実装」→「後で直す」でもOK！

---

## 5. 参考：各システムのファイル分割例
- Scripts/
    - UI/
        - DialogueWindow.cs
        - ChoiceUI.cs
    - Characters/
        - CharacterController.cs
        - NowaController.cs
        - KoppeController.cs
    - System/
        - GameManager.cs
        - ScenarioManager.cs
        - FlagManager.cs
    - Data/
        - ScenarioData.cs
        - CharacterData.cs

---

## 6. まず最初にやること
1. Unityで新しいシーンを作成
2. 背景・ノワ・コッペ・セリフウィンドウ・選択肢UIを仮配置
3. Scripts/ディレクトリを作り、UI/Characters/System/Dataのサブフォルダを用意

---

困ったらこのロードマップを見返して、1つずつ進めていこう！
